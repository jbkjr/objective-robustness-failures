# objective-robustness-failures

## Reproducing experiments

To reproduce the experiments, first navigate to the "train-procgen-pytorch" folder:

```
cd train-procgen-pytorch
```

### Coinrun

Train:

```
python train.py --exp_name coinrun --env_name coinrun --num_levels 100000 --distribution_mode hard-500 --param_name hard --num_timesteps 200000000 --num_checkpoints 5 --seed 6033 --random_percent 0
```

In order to reproduce the experiments from the ablation, change the random_percent variable.

Test:
```
python render.py --exp_name coinrun_test --env_name coinrun --distribution_mode hard-500 --param_name hard --random_percent 100 --model_file PATH_TO_MODEL_FILE
```
where PATH_TO_MODEL_FILE is the path to the model file generated by the above training command.

### Maze (Variant 1)

```
python train.py --exp_name maze1 --env_name maze_aisc --num_levels 100000 --distribution_mode hard --param_name hard --num_timesteps 200000000 --num_checkpoints 5 --seed 1080
```

```
python render.py --exp_name maze1_test --env_name maze --distribution_mode hard-500 --param_name hard  --model_file PATH_TO_MODEL_FILE
```

### Maze (Variant 2)

```
python train.py --exp_name maze2 --env_name maze_yellowgem --num_levels 100000 --distribution_mode hard --param_name hard --num_timesteps 200000000 --num_checkpoints 5 --seed 2809
```

```
python render.py --exp_name maze2_test --env_name maze_redgem_yellowstar --distribution_mode hard-500 --param_name hard  --model_file PATH_TO_MODEL_FILE
```

### Keys and Chests

```
python train.py --exp_name keys_chests --env_name heist_aisc_many_chests --num_levels 100000 --distribution_mode hard --param_name hard --num_timesteps 200000000 --num_checkpoints 5 --seed 1111
```

```
python render.py --exp_name maze2_test --env_name heist_aisc_many_keys --distribution_mode hard-500 --param_name hard  --model_file PATH_TO_MODEL_FILE
```
